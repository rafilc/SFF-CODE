DAY & NIGHT

extends StaticBody2D

var state = "day"
var change_state = false

var length_of_day = 60
var length_of_night = 50


onready var day_label = $"../player/hotbar/daycounter"
onready var day_icon = $"../player/hotbar/day&night"

func _ready():
	$Timer.wait_time = length_of_day
	$Timer.start()
	update_ui()

func _on_Timer_timeout():
	if state == "day":
		state = "night"
		$AnimationPlayer.play("daytonight")
		$Timer.wait_time = length_of_night
	else:
		state = "day"
		$AnimationPlayer.play("nighttoday")
		Global.day += 1
		$Timer.wait_time = length_of_day

	update_ui()
	$Timer.start()

func update_ui():
	day_label.text = "Days: " + str(Global.day).pad_zeros(2)


	# animated icon switch
	if state == "day":
		day_icon.play("sun")
	else:
		day_icon.play("moon")
